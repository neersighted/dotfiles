#!/bin/sh

if [ -e "$DISPLAY" ]; then
  if command -v pinentry-qt >/dev/null; then
    exec pinentry-qt "$@"
  elif command -v pinentry-gnome3 >/dev/null; then
    exec pinentry-gnome3 "$@"
  elif command -v pinentry-gtk-2 >/dev/null; then
    exec pinentry-gtk-2 "$@"
  fi
elif [ "$(uname)" = "Darwin" ]; then
  if command -v pinentry-mac >/dev/null; then
    exec pinentry-mac "$@"
  fi
fi

exec pinentry-curses "$@"
