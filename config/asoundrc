defaults.pcm.rate_converter "speexrate_medium"

pcm.dmixed {
    type dmix

    ipc_key_add_uid true
    ipc_key 5678293
    ipc_perm 0660
    ipc_gid audio

    slave {
        channels 2
        pcm {
            format S16_LE
            nonblock true

            type hw
            card {
                @func getenv
                vars [ ALSA_CARD ]
                default 0
            }
            device {
                @func getenv
                vars [ ALSA_DEVICE ]
                default 0
            }
            subdevice {
                @func getenv
                vars [ ALSA_SUBDEVICE ]
                default 0
            }
        }

        period_size 1024
        buffer_size 8192
    }
}

pcm.!default {
    type plug
    slave.pcm "dmixed"
}

ctl.!default {
    type hw
    card {
        @func getenv
        vars [ ALSA_CARD ]
        default 0
    }
}
